services:
  - type: web
    name: barber-booking
    runtime: node
    plan: free
    buildCommand: |
      corepack enable
      pnpm install --frozen-lockfile
      pnpm build
    startCommand: pnpm start
    autoDeploy: true
    envVars:
      - key: NODE_ENV
        value: production
      - key: MIGRATE_ON_START
        value: "1"
      # Add these environment variables in Render Dashboard:
      # - DATABASE_URL: mysql://KMRLpkSJa8TfhDo.root:EQlxCzhB2nYIo0QC@gateway01.eu-central-1.prod.aws.tidbcloud.com:4000/test
      # - JWT_SECRET: (generate a random long string)
      # - VITE_APP_TITLE: نظام حجز مواعيد الحلاقة
